
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-97947441-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <title>tick.survival.ConvSCCS &#8212; tick 0.5.0 documentation</title>
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.5.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="tick.survival.ModelCoxRegPartialLik" href="tick.survival.ModelCoxRegPartialLik.html" />
    <link rel="prev" title="tick.survival.kaplan_meier" href="tick.survival.kaplan_meier.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="None navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          tick</a>
        <span class="navbar-text navbar-version pull-left"><b>0.5</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../../index.html">Home</a></li>
                <li><a href="../../auto_examples/index.html">Examples</a></li>
                <li><a href="../api.html">API</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Browse <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../hawkes.html"><code class="docutils literal"><span class="pre">tick.hawkes</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="../hawkes.html#introduction">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hawkes.html#learners">2. Learners</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hawkes.html#point-process-simulation">3. Point process simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hawkes.html#models-for-inference">4. Models for inference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../linear_model.html"><code class="docutils literal"><span class="pre">tick.linear_model</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="../linear_model.html#introduction">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linear_model.html#learners">2. Learners</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linear_model.html#models">3. Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linear_model.html#simulation">4. Simulation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../robust.html"><code class="docutils literal"><span class="pre">tick.robust</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="../robust.html#regression-with-individual-intercepts">1. Regression with individual intercepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../robust.html#robust-losses">2. Robust losses</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../survival.html"><code class="docutils literal"><span class="pre">tick.survival</span></code></a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../survival.html#learners">1. Learners</a></li>
<li class="toctree-l2"><a class="reference internal" href="../survival.html#models">2. Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../survival.html#simulation">3. Simulation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../prox.html"><code class="docutils literal"><span class="pre">tick.prox</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="../prox.html#available-operators">1. Available operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prox.html#example">2. Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prox.html#how-to-combine-several-prox">3. How to combine several prox ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prox.html#the-prox-class-api">4. The <code class="docutils literal"><span class="pre">prox</span></code> class API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../solver.html"><code class="docutils literal"><span class="pre">tick.solver</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="../solver.html#the-solver-class-api">1. The <code class="docutils literal"><span class="pre">solver</span></code> class API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../solver.html#available-solvers">2. Available solvers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../solver.html#example">3. Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../simulation.html"><code class="docutils literal"><span class="pre">tick.simulation</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="../simulation.html#simulation-of-model-weights">1. Simulation of model weights</a></li>
<li class="toctree-l2"><a class="reference internal" href="../simulation.html#simulation-of-a-features-matrix">2. Simulation of a features matrix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../plot.html"><code class="docutils literal"><span class="pre">tick.plot</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="../plot.html#history-plot">1. History plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plot.html#plots-for-hawkes-processes">2. Plots for Hawkes processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plot.html#plots-for-point-process-simulation">3. Plots for point process simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plot.html#miscellaneous-plots">4. Miscellaneous plots</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dataset.html"><code class="docutils literal"><span class="pre">tick.dataset</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="tick.dataset.fetch_tick_dataset.html">tick.dataset.fetch_tick_dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="tick.dataset.fetch_hawkes_bund_data.html">tick.dataset.fetch_hawkes_bund_data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../preprocessing.html"><code class="docutils literal"><span class="pre">tick.preprocessing</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="../preprocessing.html#preprocessing-for-static-features">Preprocessing for static features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preprocessing.html#preprocessing-for-longitudinal-features">Preprocessing for longitudinal features</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../metrics.html"><code class="docutils literal"><span class="pre">tick.metrics</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="tick.metrics.support_fdp.html">tick.metrics.support_fdp</a></li>
<li class="toctree-l2"><a class="reference internal" href="tick.metrics.support_recall.html">tick.metrics.support_recall</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../R.html">How to use <code class="docutils literal"><span class="pre">tick</span></code> from the R statistical software</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../R.html#training-a-logistic-regression-model">1. Training a logistic regression model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../R.html#simulation-of-a-hawkes-process">2. Simulation of a Hawkes process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../R.html#using-optimization-tools-from-r">3. Using optimization tools from R</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dev.html">Developer documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../dev.html#main-highlights">Main highlights</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev.html#base-class">Base class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev.html#how-to-add-a-new-model-solver-or-prox">How to add a new model, solver or prox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev.html#enable-python-pickling-of-c-objects">Enable Python-pickling of C++ objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev.html#tips-for-debugging-c-classes-in-tick">Tips for debugging C++ classes in tick</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api.html#table-of-contents">Table of contents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#hawkes"><code class="docutils literal"><span class="pre">hawkes</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#linear-model"><code class="docutils literal"><span class="pre">linear_model</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#robust"><code class="docutils literal"><span class="pre">robust</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#survival"><code class="docutils literal"><span class="pre">survival</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#prox"><code class="docutils literal"><span class="pre">prox</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#solver"><code class="docutils literal"><span class="pre">solver</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#api-simulation"><code class="docutils literal"><span class="pre">simulation</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#plot"><code class="docutils literal"><span class="pre">plot</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#dataset"><code class="docutils literal"><span class="pre">dataset</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#preprocessing"><code class="docutils literal"><span class="pre">preprocessing</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#metrics"><code class="docutils literal"><span class="pre">metrics</span></code></a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container content-container">
  
  <div class="section" id="tick-survival-convsccs">
<h1>tick.survival.ConvSCCS<a class="headerlink" href="#tick-survival-convsccs" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="tick.survival.ConvSCCS">
<code class="descclassname">tick.survival.</code><code class="descname">ConvSCCS</code><span class="sig-paren">(</span><em>n_lags: &lt;built-in function array&gt;</em>, <em>penalized_features: &lt;built-in function array&gt; = None</em>, <em>C_tv=None</em>, <em>C_group_l1=None</em>, <em>step: float = None</em>, <em>tol: float = 1e-05</em>, <em>max_iter: int = 100</em>, <em>verbose: bool = False</em>, <em>print_every: int = 10</em>, <em>record_every: int = 10</em>, <em>random_state: int = None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tick/survival/convolutional_sccs.html#ConvSCCS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tick.survival.ConvSCCS" title="Permalink to this definition">¶</a></dt>
<dd><p>ConvSCCS learner, estimates lagged features effect using TV and Group L1
penalties. These penalties constrain the coefficient groups modelling the
lagged effects to ensure their regularity and sparsity.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>n_lags</strong> : <code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></code>, shape=(n_features,), dtype=”uint64”</p>
<blockquote>
<div><p>Number of lags per feature. The model will regress labels on the
last observed values of the features over their corresponding
<code class="xref py py-obj docutils literal"><span class="pre">n_lags</span></code> time intervals. <code class="xref py py-obj docutils literal"><span class="pre">n_lags</span></code> values must be between 0 and
<code class="xref py py-obj docutils literal"><span class="pre">n_intervals</span></code> - 1.</p>
</div></blockquote>
<p><strong>penalized_features</strong> : <code class="xref py py-obj docutils literal"><span class="pre">numpy.ndarray</span></code>, shape=(n_features,), dtype=”bool”, default=None</p>
<blockquote>
<div><p>Booleans indicating whether the features should be penalised or
not. If set to None, pernalize all features.</p>
</div></blockquote>
<p><strong>C_tv</strong> : <code class="xref py py-obj docutils literal"><span class="pre">float</span></code>, default=None</p>
<blockquote>
<div><p>Level of TV penalization TV penalization. This value should be
<code class="xref py py-obj docutils literal"><span class="pre">None</span></code> or greater than 0.</p>
</div></blockquote>
<p><strong>C_group_l1</strong> : <code class="xref py py-obj docutils literal"><span class="pre">float</span></code>, default=None</p>
<blockquote>
<div><p>Level of group Lasso penalization. This value should be <code class="xref py py-obj docutils literal"><span class="pre">None</span></code> or
greater than 0.</p>
</div></blockquote>
<p><strong>step</strong> : <code class="xref py py-obj docutils literal"><span class="pre">float</span></code>, default=None</p>
<blockquote>
<div><p>Step-size parameter, the most important parameter of the solver.
If set to None, it will be automatically tuned as
<code class="docutils literal"><span class="pre">step</span> <span class="pre">=</span> <span class="pre">1</span> <span class="pre">/</span> <span class="pre">model.get_lip_max()</span></code>.</p>
</div></blockquote>
<p><strong>tol</strong> : <code class="xref py py-obj docutils literal"><span class="pre">float</span></code>, default=1e-5</p>
<blockquote>
<div><p>The tolerance of the solver (iterations stop when the stopping
criterion is below it).</p>
</div></blockquote>
<p><strong>max_iter</strong> : <code class="xref py py-obj docutils literal"><span class="pre">int</span></code>, default=100</p>
<blockquote>
<div><p>Maximum number of iterations of the solver, namely maximum
number of epochs.</p>
</div></blockquote>
<p><strong>verbose</strong> : <code class="xref py py-obj docutils literal"><span class="pre">bool</span></code>, default=False</p>
<blockquote>
<div><p>If <code class="xref py py-obj docutils literal"><span class="pre">True</span></code>, solver verboses history, otherwise nothing is
displayed.</p>
</div></blockquote>
<p><strong>print_every</strong> : <code class="xref py py-obj docutils literal"><span class="pre">int</span></code>, default=1</p>
<blockquote>
<div><p>Print history information every time the iteration number is a
multiple of <code class="docutils literal"><span class="pre">print_every</span></code>. Used only is <code class="docutils literal"><span class="pre">verbose</span></code> is True.</p>
</div></blockquote>
<p><strong>record_every</strong> : <code class="xref py py-obj docutils literal"><span class="pre">int</span></code>, default=1</p>
<blockquote>
<div><p>Save history information every time the iteration number is a
multiple of <code class="docutils literal"><span class="pre">record_every</span></code>.</p>
</div></blockquote>
<p><strong>random_state</strong> : <code class="xref py py-obj docutils literal"><span class="pre">int</span></code>, default=None</p>
<blockquote>
<div><p>If not None, the seed of the random sampling.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Attributes:</th><td class="field-body"><p class="first"><strong>n_cases</strong> : <code class="xref py py-obj docutils literal"><span class="pre">int</span></code> (read-only)</p>
<blockquote>
<div><p>Number of samples with at least one outcome.</p>
</div></blockquote>
<p><strong>n_intervals</strong> : <code class="xref py py-obj docutils literal"><span class="pre">int</span></code> (read-only)</p>
<blockquote>
<div><p>Number of time intervals.</p>
</div></blockquote>
<p><strong>n_features</strong> : <code class="xref py py-obj docutils literal"><span class="pre">int</span></code> (read-only)</p>
<blockquote>
<div><p>Number of features.</p>
</div></blockquote>
<p><strong>n_coeffs</strong> : <code class="xref py py-obj docutils literal"><span class="pre">int</span></code> (read-only)</p>
<blockquote>
<div><p>Total number of coefficients of the model.</p>
</div></blockquote>
<p><strong>coeffs</strong> : <code class="xref py py-obj docutils literal"><span class="pre">list</span></code> (read-only)</p>
<blockquote>
<div><p>List containing 1-dimensional <code class="xref py py-obj docutils literal"><span class="pre">np.ndarray</span></code> (<code class="xref py py-obj docutils literal"><span class="pre">dtype=float</span></code>)
containing the coefficients of the model. Each numpy array contains
the <code class="xref py py-obj docutils literal"><span class="pre">(n_lags</span> <span class="pre">+</span> <span class="pre">1)</span></code> coefficients associated with a feature. Each
coefficient of such arrays can be interpreted as the log relative
intensity associated with this feature, <code class="xref py py-obj docutils literal"><span class="pre">k</span></code> periods after exposure
start, where <code class="xref py py-obj docutils literal"><span class="pre">k</span></code> is the index of the coefficient in the array.</p>
</div></blockquote>
<p><strong>intensities</strong> : <code class="xref py py-obj docutils literal"><span class="pre">list</span></code> (read-only)</p>
<blockquote>
<div><p>List containing 1-dimensional <code class="xref py py-obj docutils literal"><span class="pre">np.ndarray</span></code> (<code class="xref py py-obj docutils literal"><span class="pre">dtype=float</span></code>)
containing the intensities estimated by the model.
Each numpy array contains the relative intensities of a feature.
Element of these arrays can be interpreted as the relative
intensity associated with a feature, <code class="xref py py-obj docutils literal"><span class="pre">k</span></code> periods after exposure
start, where <code class="xref py py-obj docutils literal"><span class="pre">k</span></code> is the index of the coefficient in the array.</p>
</div></blockquote>
<p><strong>confidence_intervals</strong> : <code class="xref py py-obj docutils literal"><span class="pre">Confidence_intervals</span></code> (read-only)</p>
<blockquote class="last">
<div><p>Coefficients refitted on the model and associated confidence
intervals computed using parametric bootstrap. Refitted coefficients
are projected on the support of the coefficients estimated by the
penalised model.
Refitted coefficients and their confidence
intervals follow the same structure as <code class="xref py py-obj docutils literal"><span class="pre">coeffs</span></code>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p>Morel, M., Bacry, E., Gaïffas, S., Guilloux, A., &amp; Leroy, F.
(Submitted, 2018, January). ConvSCCS: convolutional self-controlled case
series model for lagged adverse event detection</p>
</dd></dl>

<div class="section" id="examples-using-tick-survival-convsccs">
<h2>Examples using <code class="docutils literal"><span class="pre">tick.survival.ConvSCCS</span></code><a class="headerlink" href="#examples-using-tick-survival-convsccs" title="Permalink to this headline">¶</a></h2>
<div class="thumbnailContainer" tooltip="In this example we simulate longitudinal data with preset relative incidence for each feature. ..."><div class="figure" id="id1">
<a class="reference external image-reference" href="./../../auto_examples/./plot_conv_sccs_cv_results.html"><img alt="../../_images/plot_conv_sccs_cv_results1.png" src="../../_images/plot_conv_sccs_cv_results1.png" /></a>
<p class="caption"><span class="caption-text"><a class="reference internal" href="../../auto_examples/plot_conv_sccs_cv_results.html#example-plot-conv-sccs-cv-results-py"><span class="std std-ref">ConvSCCS cross validation on simulated longitudinal features example</span></a></span></p>
</div>
</div></div>
</div>


</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright Emmanuel Bacry, Martin Bompaire, Stephane Gaiffas, Maryan Morel, Søren Vinther Poulsen.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>